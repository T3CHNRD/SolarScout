<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blackout Buddy - SolarScout</title>
    <link rel="stylesheet" href="css/theme.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="logo-link">
                <img src="assets/ssmenuicon.jpg" alt="SolarScout Logo" class="logo">
            </a>
            <nav class="nav-container">
                <button class="menu-button" id="hamburger-menu">
                    <img src="assets/ssmenuicon.jpg" alt="Menu" class="ss-logo">
                    <span class="menu-text">Menu</span>
                </button>
                <ul class="nav-menu" id="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="finalcalcwithstyle.html">Power Planner</a></li>
                    <li><a href="blackoutbuddy.html" class="active">Blackout Buddy</a></li>
                    <li><a href="https://www.linspyre.com/ecoholics/calc_voc.html" target="_blank">Solar Basics</a></li>
                    <li><a href="https://us.ecoflow.com/?sca_ref=7408943.R33f7CbNF7&utm_source=uppromote&utm_medium=community&utm_campaign=koc" target="_blank">Save 5% at Ecoflow.com</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="card">
            <div class="instructions">
                <p>Welcome to BlackoutBuddy! This calculator helps you plan your portable power needs.</p>
                <ol>
                    <li>Select your appliances from the list below.</li>
                    <li>Enter how many hours per day you plan to run each item.</li>
                    <li>The calculator will show your total power needs and recommend solutions.</li>
                    <li>All pre-filled numbers are average estimates. Please adjust these numbers to match your specific product's wattage.</li>
                    <li>If you select "Other" from the dropdown menu, you will need to manually enter the wattage for your appliance.</li>
                    <li>For multiple days, convert to total hours (example: 2 days = 48 hours, 3 days = 72 hours).</li>
                    <li>Don't Forget you can save 5% by using the code "solarscout" at checkout on Ecoflow.com</li>
                </ol>
            </div>

            <div class="appliance-grid">
                <div class="appliance-row grid-header">
                    <div>Appliance</div>
                    <div>Running Watts</div>
                    <div>Starting Watts (Surge)</div>
                    <div>Hours/Day</div>
                    <div>Daily kWh</div>
                </div>

                <div id="applianceRows">
                    <!-- Row 1 -->
                    <div class="appliance-row">
                        <select class="appliance-select" aria-label="Appliance 1">
                            <option value="">Select Appliance</option>
                            <option>Air Conditioner (Window)</option>
                            <option>Box Fan</option>
                            <option>Coffee Pot - Keurig</option>
                            <option>CPAP</option>
                            <option>Desktop Computer</option>
                            <option>Electric Clothes Dryer</option>
                            <option>Electric Stove</option>
                            <option>Freezer</option>
                            <option>Microwave</option>
                            <option>OTHER - insert your own values</option>
                            <option>Refrigerator</option>
                            <option>Space Heater</option>
                            <option>Television</option>
                            <option>Washing Machine</option>
                        </select>
                        <input type="number" class="running-watts" placeholder="Running Watts" min="0" step="1" aria-label="Running Watts 1" />
                        <input type="number" class="starting-watts" placeholder="Starting Watts" min="0" step="1" aria-label="Starting Watts (Surge) 1" />
                        <input type="number" class="hours" placeholder="Hours" min="0" max="24" step="0.1" aria-label="Hours/Day 1" />
                        <div class="daily-kwh">0.00 kWh</div>
                    </div>

                    <!-- Row 2 -->
                    <div class="appliance-row">
                        <select class="appliance-select" aria-label="Appliance 2">
                            <option value="">Select Appliance</option>
                            <option>Air Conditioner (Window)</option>
                            <option>Box Fan</option>
                            <option>Coffee Pot - Keurig</option>
                            <option>CPAP</option>
                            <option>Desktop Computer</option>
                            <option>Electric Clothes Dryer</option>
                            <option>Electric Stove</option>
                            <option>Freezer</option>
                            <option>Microwave</option>
                            <option>OTHER - insert your own values</option>
                            <option>Refrigerator</option>
                            <option>Space Heater</option>
                            <option>Television</option>
                            <option>Washing Machine</option>
                        </select>
                        <input type="number" class="running-watts" placeholder="Running Watts" min="0" step="1" aria-label="Running Watts 2" />
                        <input type="number" class="starting-watts" placeholder="Starting Watts" min="0" step="1" aria-label="Starting Watts (Surge) 2" />
                        <input type="number" class="hours" placeholder="Hours" min="0" max="24" step="0.1" aria-label="Hours/Day 2" />
                        <div class="daily-kwh">0.00 kWh</div>
                    </div>

                    <!-- Row 3 -->
                    <div class="appliance-row">
                        <select class="appliance-select" aria-label="Appliance 3">
                            <option value="">Select Appliance</option>
                            <option>Air Conditioner (Window)</option>
                            <option>Box Fan</option>
                            <option>Coffee Pot - Keurig</option>
                            <option>CPAP</option>
                            <option>Desktop Computer</option>
                            <option>Electric Clothes Dryer</option>
                            <option>Electric Stove</option>
                            <option>Freezer</option>
                            <option>Microwave</option>
                            <option>OTHER - insert your own values</option>
                            <option>Refrigerator</option>
                            <option>Space Heater</option>
                            <option>Television</option>
                            <option>Washing Machine</option>
                        </select>
                        <input type="number" class="running-watts" placeholder="Running Watts" min="0" step="1" aria-label="Running Watts 3" />
                        <input type="number" class="starting-watts" placeholder="Starting Watts" min="0" step="1" aria-label="Starting Watts (Surge) 3" />
                        <input type="number" class="hours" placeholder="Hours" min="0" max="24" step="0.1" aria-label="Hours/Day 3" />
                        <div class="daily-kwh">0.00 kWh</div>
                    </div>

                    <!-- Row 4 -->
                    <div class="appliance-row">
                        <select class="appliance-select" aria-label="Appliance 4">
                            <option value="">Select Appliance</option>
                            <option>Air Conditioner (Window)</option>
                            <option>Box Fan</option>
                            <option>Coffee Pot - Keurig</option>
                            <option>CPAP</option>
                            <option>Desktop Computer</option>
                            <option>Electric Clothes Dryer</option>
                            <option>Electric Stove</option>
                            <option>Freezer</option>
                            <option>Microwave</option>
                            <option>OTHER - insert your own values</option>
                            <option>Refrigerator</option>
                            <option>Space Heater</option>
                            <option>Television</option>
                            <option>Washing Machine</option>
                        </select>
                        <input type="number" class="running-watts" placeholder="Running Watts" min="0" step="1" aria-label="Running Watts 4" />
                        <input type="number" class="starting-watts" placeholder="Starting Watts" min="0" step="1" aria-label="Starting Watts (Surge) 4" />
                        <input type="number" class="hours" placeholder="Hours" min="0" max="24" step="0.1" aria-label="Hours/Day 4" />
                        <div class="daily-kwh">0.00 kWh</div>
                    </div>

                    <!-- Row 5 -->
                    <div class="appliance-row">
                        <select class="appliance-select" aria-label="Appliance 5">
                            <option value="">Select Appliance</option>
                            <option>Air Conditioner (Window)</option>
                            <option>Box Fan</option>
                            <option>Coffee Pot - Keurig</option>
                            <option>CPAP</option>
                            <option>Desktop Computer</option>
                            <option>Electric Clothes Dryer</option>
                            <option>Electric Stove</option>
                            <option>Freezer</option>
                            <option>Microwave</option>
                            <option>OTHER - insert your own values</option>
                            <option>Refrigerator</option>
                            <option>Space Heater</option>
                            <option>Television</option>
                            <option>Washing Machine</option>
                        </select>
                        <input type="number" class="running-watts" placeholder="Running Watts" min="0" step="1" aria-label="Running Watts 5" />
                        <input type="number" class="starting-watts" placeholder="Starting Watts" min="0" step="1" aria-label="Starting Watts (Surge) 5" />
                        <input type="number" class="hours" placeholder="Hours" min="0" max="24" step="0.1" aria-label="Hours/Day 5" />
                        <div class="daily-kwh">0.00 kWh</div>
                    </div>
                </div>
            </div>

            <div id="results" class="results results-bar" style="margin-top: 1rem;">
                <div><strong id="totalWatts">Total Running Watts: 0 W</strong></div>
                <div><strong id="totalStarting">Total Starting Watts: 0 W</strong></div>
                <div><strong id="totalKwh">Total Daily Usage: 0.00 kWh</strong></div>
            </div>

            <div id="recommendation" class="recommendation-section" style="margin-top: .5rem;">
                Select appliances to get recommendations.
            </div>

            <div class="button-group" style="display: flex; gap: 1rem; margin-top: 1.25rem;">
                <button id="resetButton" class="button">RESET CALCULATOR</button>
                <button id="printButton" class="button">PRINT RESULTS</button>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>© 2025 T3CHNRD and a few of his friend, chatgpt, claude and gemini and very specaial thank you to Rob White II- All rights reserved.</p>
    </footer>

    <!-- Load external BlackoutBuddy script (defer ensures DOM is ready). Update ?v= to bust cache during dev -->
    <script src="js/blackoutbuddy.js?v=20250905" defer></script>

    <!-- Small loader/checker: warns if JS fails to load or functions are missing, and triggers initial render if available -->
    <script>
      (function () {
        const CHECK_FUNCS = ['renderApplianceRows','calculatePower','updateRecommendations'];
        function markError(msg) {
          console.warn('BlackoutBuddy loader:', msg);
          const rec = document.getElementById('recommendation');
          if (rec) rec.innerHTML = '<div style="color:#b22222;font-weight:600">BlackoutBuddy script not loaded or contains errors — see console.</div>';
        }
        // After DOM and deferred script should have run, verify functions exist
        window.addEventListener('load', () => {
          setTimeout(() => {
            const missing = CHECK_FUNCS.filter(fn => typeof window[fn] !== 'function');
            if (missing.length) {
              markError('Missing functions: ' + missing.join(', '));
            } else {
              console.info('BlackoutBuddy JS loaded OK');
              try {
                // call init handlers if they exist
                if (typeof renderApplianceRows === 'function') renderApplianceRows();
                if (typeof calculatePower === 'function') calculatePower();
              } catch (err) {
                console.error('Error during BlackoutBuddy init:', err);
                markError('Initialization error. See console.');
              }
            }
          }, 60);
        });
      })();
    </script>
</body>
</html>
